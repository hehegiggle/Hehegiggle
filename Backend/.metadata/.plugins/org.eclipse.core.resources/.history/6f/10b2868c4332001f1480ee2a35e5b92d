import org.springframework.messaging.handler.annotation.MessageMapping;

import com.axis.messageservice.entity.Message;

@MessageMapping("/chat/{chatId}")
	public void processMessage(Message message) throws Exception {
		Message savedMessage = messageService.createMessage(message.getUser(), message.getChat().getId(), message);
		
		messagingTemplate.convertAndSend("/queue/messages/" + message.getChat().getId(), savedMessage);
	}